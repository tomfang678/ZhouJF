/*! FixedColumns 3.0.2
 * ©2010-2014 SpryMedia Ltd - datatables.net/license
 */
(function(n,t){var i=function(i){"use strict";var r=function(n,t){var f=this,u;if(!this instanceof r){alert("FixedColumns warning: FixedColumns must be initialised with the 'new' keyword.");return}typeof t=="undefined"&&(t={});i.fn.dataTable.camelToHungarian&&i.fn.dataTable.camelToHungarian(r.defaults,t);u=i.fn.dataTable.Api?new i.fn.dataTable.Api(n).settings()[0]:n.fnSettings();this.s={dt:u,iTableColumns:u.aoColumns.length,aiOuterWidths:[],aiInnerWidths:[]};this.dom={scroller:null,header:null,body:null,footer:null,grid:{wrapper:null,dt:null,left:{wrapper:null,head:null,body:null,foot:null},right:{wrapper:null,head:null,body:null,foot:null}},clone:{left:{header:null,body:null,footer:null},right:{header:null,body:null,footer:null}}};u._oFixedColumns=this;u._bInitComplete?this._fnConstruct(t):u.oApi._fnCallbackReg(u,"aoInitComplete",function(){f._fnConstruct(t)},"FixedColumns")};return r.prototype={fnUpdate:function(){this._fnDraw(!0)},fnRedrawLayout:function(){this._fnColCalc();this._fnGridLayout();this.fnUpdate()},fnRecalculateHeight:function(n){delete n._DTTC_iHeight;n.style.height="auto"},fnSetRowHeight:function(n,t){n.style.height=t+"px"},fnGetPosition:function(n){var t,r=this.s.dt.oInstance,u,f;return i(n).parents(".DTFC_Cloned").length?n.nodeName.toLowerCase()==="tr"?(t=i(n).index(),r.fnGetPosition(i("tr",this.s.dt.nTBody)[t])):(u=i(n).index(),t=i(n.parentNode).index(),f=r.fnGetPosition(i("tr",this.s.dt.nTBody)[t]),[f,u,r.oApi._fnVisibleToColumnIndex(this.s.dt,u)]):r.fnGetPosition(n)},_fnConstruct:function(u){var f=this,s,e,o,h,c;if(typeof this.s.dt.oInstance.fnVersionCheck!="function"||this.s.dt.oInstance.fnVersionCheck("1.8.0")!==!0){alert("FixedColumns "+r.VERSION+" required DataTables 1.8.0 or later. Please upgrade your DataTables installation");return}if(this.s.dt.oScroll.sX===""){this.s.dt.oInstance.oApi._fnLog(this.s.dt,1,"FixedColumns is not needed (no x-scrolling in DataTables enabled), so no action will be taken. Use 'FixedHeader' for column fixing when scrolling is not enabled");return}this.s=i.extend(!0,this.s,r.defaults,u);s=this.s.dt.oClasses;this.dom.grid.dt=i(this.s.dt.nTable).parents("div."+s.sScrollWrapper)[0];this.dom.scroller=i("div."+s.sScrollBody,this.dom.grid.dt)[0];this._fnColCalc();this._fnGridSetup();i(this.dom.scroller).on("mouseover.DTFC touchstart.DTFC",function(){e="main"}).on("scroll.DTFC",function(){e==="main"&&(f.s.iLeftColumns>0&&(f.dom.grid.left.liner.scrollTop=f.dom.scroller.scrollTop),f.s.iRightColumns>0&&(f.dom.grid.right.liner.scrollTop=f.dom.scroller.scrollTop))});if(o="onwheel"in t.createElement("div")?"wheel.DTFC":"mousewheel.DTFC",f.s.iLeftColumns>0)i(f.dom.grid.left.liner).on("mouseover.DTFC touchstart.DTFC",function(){e="left"}).on("scroll.DTFC",function(){e==="left"&&(f.dom.scroller.scrollTop=f.dom.grid.left.liner.scrollTop,f.s.iRightColumns>0&&(f.dom.grid.right.liner.scrollTop=f.dom.grid.left.liner.scrollTop))}).on(o,function(n){var t=n.type==="wheel"?-n.originalEvent.deltaX:n.originalEvent.wheelDeltaX;f.dom.scroller.scrollLeft-=t});if(f.s.iRightColumns>0)i(f.dom.grid.right.liner).on("mouseover.DTFC touchstart.DTFC",function(){e="right"}).on("scroll.DTFC",function(){e==="right"&&(f.dom.scroller.scrollTop=f.dom.grid.right.liner.scrollTop,f.s.iLeftColumns>0&&(f.dom.grid.left.liner.scrollTop=f.dom.grid.right.liner.scrollTop))}).on(o,function(n){var t=n.type==="wheel"?-n.originalEvent.deltaX:n.originalEvent.wheelDeltaX;f.dom.scroller.scrollLeft-=t});i(n).on("resize.DTFC",function(){f._fnGridLayout.call(f)});h=!0;c=i(this.s.dt.nTable);c.on("draw.dt.DTFC",function(){f._fnDraw.call(f,h);h=!1}).on("column-sizing.dt.DTFC",function(){f._fnColCalc();f._fnGridLayout(f)}).on("column-visibility.dt.DTFC",function(){f._fnColCalc();f._fnGridLayout(f);f._fnDraw(!0)}).on("destroy.dt.DTFC",function(){c.off("column-sizing.dt.DTFC destroy.dt.DTFC draw.dt.DTFC");i(f.dom.scroller).off("scroll.DTFC mouseover.DTFC");i(n).off("resize.DTFC");i(f.dom.grid.left.liner).off("scroll.DTFC mouseover.DTFC "+o);i(f.dom.grid.left.wrapper).remove();i(f.dom.grid.right.liner).off("scroll.DTFC mouseover.DTFC "+o);i(f.dom.grid.right.wrapper).remove()});this._fnGridLayout();this.s.dt.oInstance.fnDraw(!1)},_fnColCalc:function(){var n=this,t=0,r=0;this.s.aiInnerWidths=[];this.s.aiOuterWidths=[];i.each(this.s.dt.aoColumns,function(u,f){var s=i(f.nTh),e,o;s.filter(":visible").length?(o=s.outerWidth(),n.s.aiOuterWidths.length===0&&(e=i(n.s.dt.nTable).css("border-left-width"),o+=typeof e=="string"?1:parseInt(e,10)),n.s.aiOuterWidths.length===n.s.dt.aoColumns.length-1&&(e=i(n.s.dt.nTable).css("border-right-width"),o+=typeof e=="string"?1:parseInt(e,10)),n.s.aiOuterWidths.push(o),n.s.aiInnerWidths.push(s.width()),u<n.s.iLeftColumns&&(t+=o),n.s.iTableColumns-n.s.iRightColumns<=u&&(r+=o)):(n.s.aiInnerWidths.push(0),n.s.aiOuterWidths.push(0))});this.s.iLeftWidth=t;this.s.iRightWidth=r},_fnGridSetup:function(){var e=this,f=this._fnDTOverflow(),t;this.dom.body=this.s.dt.nTable;this.dom.header=this.s.dt.nTHead.parentNode;this.dom.header.parentNode.parentNode.style.position="relative";var n=i('<div class="DTFC_ScrollWrapper" style="position:relative; clear:both;"><div class="DTFC_LeftWrapper" style="position:absolute; top:0; left:0;"><div class="DTFC_LeftHeadWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><\/div><div class="DTFC_LeftBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><div class="DTFC_LeftBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"><\/div><\/div><div class="DTFC_LeftFootWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><\/div><\/div><div class="DTFC_RightWrapper" style="position:absolute; top:0; left:0;"><div class="DTFC_RightHeadWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightHeadBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"><\/div><\/div><div class="DTFC_RightBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><div class="DTFC_RightBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"><\/div><\/div><div class="DTFC_RightFootWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightFootBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"><\/div><\/div><\/div><\/div>')[0],r=n.childNodes[0],u=n.childNodes[1];this.dom.grid.dt.parentNode.insertBefore(n,this.dom.grid.dt);n.appendChild(this.dom.grid.dt);this.dom.grid.wrapper=n;this.s.iLeftColumns>0&&(this.dom.grid.left.wrapper=r,this.dom.grid.left.head=r.childNodes[0],this.dom.grid.left.body=r.childNodes[1],this.dom.grid.left.liner=i("div.DTFC_LeftBodyLiner",n)[0],n.appendChild(r));this.s.iRightColumns>0&&(this.dom.grid.right.wrapper=u,this.dom.grid.right.head=u.childNodes[0],this.dom.grid.right.body=u.childNodes[1],this.dom.grid.right.liner=i("div.DTFC_RightBodyLiner",n)[0],t=i("div.DTFC_RightHeadBlocker",n)[0],t.style.width=f.bar+"px",t.style.right=-f.bar+"px",this.dom.grid.right.headBlock=t,t=i("div.DTFC_RightFootBlocker",n)[0],t.style.width=f.bar+"px",t.style.right=-f.bar+"px",this.dom.grid.right.footBlock=t,n.appendChild(u));this.s.dt.nTFoot&&(this.dom.footer=this.s.dt.nTFoot.parentNode,this.s.iLeftColumns>0&&(this.dom.grid.left.foot=r.childNodes[2]),this.s.iRightColumns>0&&(this.dom.grid.right.foot=u.childNodes[2]))},_fnGridLayout:function(){var n=this.dom.grid,o=i(n.wrapper).width(),r=i(this.s.dt.nTable.parentNode).outerHeight(),s=i(this.s.dt.nTable.parentNode.parentNode).outerHeight(),t=this._fnDTOverflow(),e=this.s.iLeftWidth,u=this.s.iRightWidth,f;t.x&&(r-=t.bar);n.wrapper.style.height=s+"px";this.s.iLeftColumns>0&&(n.left.wrapper.style.width=e+"px",n.left.wrapper.style.height="1px",n.left.body.style.height=r+"px",n.left.foot&&(n.left.foot.style.top=(t.x?t.bar:0)+"px"),n.left.liner.style.width=e+t.bar+"px",n.left.liner.style.height=r+"px");this.s.iRightColumns>0&&(f=o-u,t.y&&(f-=t.bar),n.right.wrapper.style.width=u+"px",n.right.wrapper.style.left=f+"px",n.right.wrapper.style.height="1px",n.right.body.style.height=r+"px",n.right.foot&&(n.right.foot.style.top=(t.x?t.bar:0)+"px"),n.right.liner.style.width=u+t.bar+"px",n.right.liner.style.height=r+"px",n.right.headBlock.style.display=t.y?"block":"none",n.right.footBlock.style.display=t.y?"block":"none")},_fnDTOverflow:function(){var n=this.s.dt.nTable,i=n.parentNode,t={x:!1,y:!1,bar:this.s.dt.oScroll.iBarWidth};return n.offsetWidth>i.clientWidth&&(t.x=!0),n.offsetHeight>i.clientHeight&&(t.y=!0),t},_fnDraw:function(n){this._fnGridLayout();this._fnCloneLeft(n);this._fnCloneRight(n);this.s.fnDrawCallback!==null&&this.s.fnDrawCallback.call(this,this.dom.clone.left,this.dom.clone.right);i(this).trigger("draw.dtfc",{leftClone:this.dom.clone.left,rightClone:this.dom.clone.right})},_fnCloneRight:function(n){if(!(this.s.iRightColumns<=0)){for(var r=this,i=[],t=this.s.iTableColumns-this.s.iRightColumns;t<this.s.iTableColumns;t++)this.s.dt.aoColumns[t].bVisible&&i.push(t);this._fnClone(this.dom.clone.right,this.dom.grid.right,i,n)}},_fnCloneLeft:function(n){if(!(this.s.iLeftColumns<=0)){for(var r=this,i=[],t=0;t<this.s.iLeftColumns;t++)this.s.dt.aoColumns[t].bVisible&&i.push(t);this._fnClone(this.dom.clone.left,this.dom.grid.left,i,n)}},_fnCopyLayout:function(n,t){for(var f,r,l,e,o,s=[],h=[],c=[],u=0,a=n.length;u<a;u++){for(f=[],f.nTr=i(n[u].nTr).clone(!0,!0)[0],r=0,l=this.s.iTableColumns;r<l;r++)i.inArray(r,t)!==-1&&(e=i.inArray(n[u][r].cell,c),e===-1?(o=i(n[u][r].cell).clone(!0,!0)[0],h.push(o),c.push(n[u][r].cell),f.push({cell:o,unique:n[u][r].unique})):f.push({cell:h[e],unique:n[u][r].unique}));s.push(f)}return s},_fnClone:function(n,t,r,u){var o=this,f,l,s,y,c,h,a,e,k,p,w,nt,v,d,g,b;if(u){for(n.header!==null&&n.header.parentNode.removeChild(n.header),n.header=i(this.dom.header).clone(!0,!0)[0],n.header.className+=" DTFC_Cloned",n.header.style.width="100%",t.head.appendChild(n.header),e=this._fnCopyLayout(this.s.dt.aoHeader,r),k=i(">thead",n.header),k.empty(),f=0,l=e.length;f<l;f++)k[0].appendChild(e[f].nTr);this.s.dt.oApi._fnDrawHead(this.s.dt,e,!0)}else for(e=this._fnCopyLayout(this.s.dt.aoHeader,r),p=[],this.s.dt.oApi._fnDetectHeader(p,i(">thead",n.header)[0]),f=0,l=e.length;f<l;f++)for(s=0,y=e[f].length;s<y;s++)p[f][s].cell.className=e[f][s].cell.className,i("span.DataTables_sort_icon",p[f][s].cell).each(function(){this.className=i("span.DataTables_sort_icon",e[f][s].cell)[0].className});if(this._fnEqualiseHeights("thead",this.dom.header,n.header),this.s.sHeightMatch=="auto"&&i(">tbody>tr",o.dom.body).css("height","auto"),n.body!==null&&(n.body.parentNode.removeChild(n.body),n.body=null),n.body=i(this.dom.body).clone(!0)[0],n.body.className+=" DTFC_Cloned",n.body.style.paddingBottom=this.s.dt.oScroll.iBarWidth+"px",n.body.style.marginBottom=this.s.dt.oScroll.iBarWidth*2+"px",n.body.getAttribute("id")!==null&&n.body.removeAttribute("id"),i(">thead>tr",n.body).empty(),i(">tfoot",n.body).remove(),w=i("tbody",n.body)[0],i(w).empty(),this.s.dt.aiDisplay.length>0){for(nt=i(">thead>tr",n.body)[0],a=0;a<r.length;a++)c=r[a],h=i(this.s.dt.aoColumns[c].nTh).clone(!0)[0],h.innerHTML="",v=h.style,v.paddingTop="0",v.paddingBottom="0",v.borderTopWidth="0",v.borderBottomWidth="0",v.height=0,v.width=o.s.aiInnerWidths[c]+"px",nt.appendChild(h);i(">tbody>tr",o.dom.body).each(function(n){var t=this.cloneNode(!1),u,f;for(t.removeAttribute("id"),u=o.s.dt.oFeatures.bServerSide===!1?o.s.dt.aiDisplay[o.s.dt._iDisplayStart+n]:n,a=0;a<r.length;a++)f=o.s.dt.aoData[u].anCells||o.s.dt.oApi._fnGetTdNodes(o.s.dt,u),c=r[a],f.length>0&&(h=i(f[c]).clone(!0,!0)[0],t.appendChild(h));w.appendChild(t)})}else i(">tbody>tr",o.dom.body).each(function(){h=this.cloneNode(!0);h.className+=" DTFC_NoData";i("td",h).html("");w.appendChild(h)});if(n.body.style.width="100%",n.body.style.margin="0",n.body.style.padding="0",u&&typeof this.s.dt.oScroller!="undefined"&&t.liner.appendChild(this.s.dt.oScroller.dom.force.cloneNode(!0)),t.liner.appendChild(n.body),this._fnEqualiseHeights("tbody",o.dom.body,n.body),this.s.dt.nTFoot!==null){if(u){for(n.footer!==null&&n.footer.parentNode.removeChild(n.footer),n.footer=i(this.dom.footer).clone(!0,!0)[0],n.footer.className+=" DTFC_Cloned",n.footer.style.width="100%",t.foot.appendChild(n.footer),e=this._fnCopyLayout(this.s.dt.aoFooter,r),d=i(">tfoot",n.footer),d.empty(),f=0,l=e.length;f<l;f++)d[0].appendChild(e[f].nTr);this.s.dt.oApi._fnDrawHead(this.s.dt,e,!0)}else for(e=this._fnCopyLayout(this.s.dt.aoFooter,r),g=[],this.s.dt.oApi._fnDetectHeader(g,i(">tfoot",n.footer)[0]),f=0,l=e.length;f<l;f++)for(s=0,y=e[f].length;s<y;s++)g[f][s].cell.className=e[f][s].cell.className;this._fnEqualiseHeights("tfoot",this.dom.footer,n.footer)}b=this.s.dt.oApi._fnGetUniqueThs(this.s.dt,i(">thead",n.header)[0]);i(b).each(function(n){c=r[n];this.style.width=o.s.aiInnerWidths[c]+"px"});o.s.dt.nTFoot!==null&&(b=this.s.dt.oApi._fnGetUniqueThs(this.s.dt,i(">tfoot",n.footer)[0]),i(b).each(function(n){c=r[n];this.style.width=o.s.aiInnerWidths[c]+"px"}))},_fnGetTrNodes:function(n){for(var i=[],t=0,r=n.childNodes.length;t<r;t++)n.childNodes[t].nodeName.toUpperCase()=="TR"&&i.push(n.childNodes[t]);return i},_fnEqualiseHeights:function(n,t,r){if(this.s.sHeightMatch!="none"||n==="thead"||n==="tfoot"){for(var p=this,o,s,h,v=t.getElementsByTagName(n)[0],y=r.getElementsByTagName(n)[0],a=i(">"+n+">tr:eq(0)",t).children(":first"),w=a.outerHeight()-a.height(),c=this._fnGetTrNodes(v),e=this._fnGetTrNodes(y),l=[],u=0,f=e.length;u<f;u++)s=c[u].offsetHeight,h=e[u].offsetHeight,o=h>s?h:s,this.s.sHeightMatch=="semiauto"&&(c[u]._DTTC_iHeight=o),l.push(o);for(u=0,f=e.length;u<f;u++)e[u].style.height=l[u]+"px",c[u].style.height=l[u]+"px"}}},r.defaults={iLeftColumns:1,iRightColumns:0,fnDrawCallback:null,sHeightMatch:"semiauto"},r.version="3.0.2",i.fn.dataTable.FixedColumns=r,i.fn.DataTable.FixedColumns=r,r};typeof define=="function"&&define.amd?define(["jquery","datatables"],i):typeof exports=="object"?i(require("jquery"),require("datatables")):jQuery&&!jQuery.fn.dataTable.FixedColumns&&i(jQuery,jQuery.fn.dataTable)})(window,document);
//# sourceMappingURL=dataTables.fixedColumns.min.js.map
